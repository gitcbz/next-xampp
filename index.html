<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>CBZ Studio - 创新科技，引领未来</title>
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/index.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    
    <!-- 防止缩放的meta标签（保留兼容性：使用更通用的 mobile-web-app-capable） -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
</head>
<body>
    <!-- 增强背景动画 -->
    <div class="bg-animation">
        <span></span><span></span><span></span><span></span><span></span>
        <span></span><span></span><span></span><span></span><span></span>
    </div>
    
    <!-- 几何图形背景 -->
    <div class="geometric-bg">
        <div class="geo-shape"></div>
        <div class="geo-shape"></div>
        <div class="geo-shape"></div>
        <div class="geo-shape"></div>
    </div>

    <!-- 页面过渡层 -->
    <div class="page-transition" id="pageTransition"></div>

    <!-- 加载指示器 -->
    <div class="loading-indicator" id="loadingIndicator">
        <div class="loading-spinner"></div>
    </div>

    <!-- 彩蛋模态框 -->
    <div class="egg-modal" id="eggModal">
        <div class="egg-content">
            <button class="egg-close" onclick="closeEggModal()">✖</button>
            <div class="egg-icon">🎉</div>
            <h2 class="egg-title">恭喜你触发了彩蛋！</h2>
            <p class="egg-subtitle">这是一个特别的惊喜，请欣赏下面的视频</p>
            
            <div class="egg-video-container">
                <video id="eggVideo" class="egg-video" controls>
                    <source src="files/egg.mp4" type="video/mp4">
                    <source src="files/egg.webm" type="video/webm">
                    您的浏览器不支持视频播放。
                </video>
            </div>
            
            <div class="egg-stats">
                <p>彩蛋触发次数: <span id="eggCount">1</span></p>
                <p>触发时间: <span id="triggerTime"></span></p>
            </div>
        </div>
    </div>

    <!-- 顶部搜索栏 -->
    <header class="top-header">
        <div class="header-content">
            <div class="search-container">
                <div class="search-box">
                    <input 
                        type="text" 
                        id="searchInput" 
                        class="search-input" 
                        placeholder="搜索..."
                        autocomplete="off"
                    >
                    <button class="search-btn" id="searchBtn">
                        <span>🔍</span>
                    </button>
                </div>
                <div class="search-suggestions" id="searchSuggestions">
                    <div class="suggestion-item">游戏中心</div>
                    <div class="suggestion-item">本地云盘</div>
                    <div class="suggestion-item">学习中心</div>
                    <div class="suggestion-item">AI工具箱</div>
                    <div class="suggestion-item">帖子</div>
                    <div class="suggestion-item">聊天室</div>
                    <div class="suggestion-item">邮件</div>
                    <div class="suggestion-item">SChat</div>
                    <div class="suggestion-item">2025，你好</div>
                </div>
            </div>
            
            <nav class="header-nav">
                <a href="#" class="nav-link" onclick="showAbout()">关于我们</a>
                <a href="#" class="nav-link" onclick="showContact()">联系方式</a>
            </nav>
        </div>
    </header>

    <!-- 主容器 -->
    <div class="main-container">
        <!-- Logo区域 -->
        <div class="logo-container">
            <div class="main-logo" id="mainLogo" title="CBZ Studio">
                CBZ
            </div>
        </div>
        
        <h1 class="main-title">CBZ Studio</h1>
        <p class="subtitle">
            创新科技，引领未来<br>
            我们致力于打造卓越的数字体验，让技术改变生活
        </p>
        
        <!-- 功能卡片 -->
        <div class="features-container">
            <!-- 游戏中心卡片 -->
            <div class="feature-card" data-target="game">
                <div class="feature-icon">🎮</div>
                <h2 class="feature-title">游戏中心</h2>
                <p class="feature-description">
                    精心打造的HTML5游戏平台，提供多种经典游戏，让用户在休闲娱乐中享受科技带来的乐趣。
                </p>
                <button class="feature-button" onclick="navigateToGame()">进入游戏</button>
            </div>
            
            <!-- 本地云盘卡片 -->
            <div class="feature-card" data-target="cloud">
                <div class="feature-icon">☁️</div>
                <h2 class="feature-title">本地云盘</h2>
                <p class="feature-description">
                    安全可靠的文件存储解决方案，支持多格式文件管理，让数据存储变得简单便捷。
                </p>
                <button class="feature-button" onclick="navigateToCloud()">进入云盘</button>
            </div>

            <!-- 学习中心卡片 -->
            <div class="feature-card" data-target="learn">
                <div class="feature-icon">📚</div>
                <h2 class="feature-title">学习中心</h2>
                <p class="feature-description">
                    专业的在线教育平台，提供数学学习服务，通过游戏化学习方式让知识获取更加有趣高效。
                </p>
                <button class="feature-button" onclick="navigateToLearn()">开始学习</button>
            </div>

            <!-- AI工具箱卡片 -->
            <div class="feature-card" data-target="ai">
                <div class="feature-icon">🤖</div>
                <h2 class="feature-title">AI工具箱</h2>
                <p class="feature-description">
                    集成OpenAI API的智能工具平台，提供代码生成、智能对话等功能，助力开发者提升效率。
                </p>
                <button class="feature-button" onclick="navigateToAI()">立即体验</button>
            </div>

            <!-- 帖子系统卡片 -->
            <div class="feature-card talk" data-target="talk">
                <div class="feature-icon">📝</div>
                <h2 class="feature-title">帖子系统</h2>
                <p class="feature-description">
                    全新的帖子分享平台，支持用户发帖、评论互动、管理员管理等功能，打造活跃的社区交流环境。
                </p>
                <button class="feature-button" onclick="navigateToTalk()">进入帖子</button>
            </div>

            <!-- 聊天室卡片 -->
            <div class="feature-card chat external" data-target="chat">
                <div class="feature-icon">💬</div>
                <h2 class="feature-title">聊天室</h2>
                <p class="feature-description">
                    实时在线聊天室，支持多人同时在线交流，分享想法，结识朋友，打造温馨的聊天社区。
                </p>
                <button class="feature-button" onclick="navigateToChat()">
                    进入聊天
                    <span class="external-link-icon">🔗</span>
                </button>
            </div>

            <!-- 邮箱卡片 -->
            <div class="feature-card external" data-target="mail">
                <div class="feature-icon">📧</div>
                <h2 class="feature-title">邮箱</h2>
                <p class="feature-description">
                    访问我们的邮件服务，管理收发邮件、安全且可靠的企业邮箱访问入口。
                </p>
                <button class="feature-button" onclick="navigateToMail()">
                    打开邮箱
                    <span class="external-link-icon">🔗</span>
                </button>
            </div>

            <!-- SChat 安全聊天卡片 -->
            <div class="feature-card external" data-target="schat">
                <div class="feature-icon">🛡️</div>
                <h2 class="feature-title">SChat（安全聊天）</h2>
                <p class="feature-description">
                    SChat 提供强化隐私与安全的聊天服务，适合需要更高安全性的沟通场景。
                </p>
                <button class="feature-button" onclick="navigateToSChat()">
                    进入 SChat
                    <span class="external-link-icon">🔗</span>
                </button>
            </div>

            <!-- 2025，你好 卡片 -->
            <div class="feature-card" data-target="2025">
                <div class="feature-icon">🎆</div>
                <h2 class="feature-title">2026，你好</h2>
                <p class="feature-description">
                    欢迎来到 2026，我们为新的一年准备了特别内容。点击进入欢迎页了解详情。
                </p>
                <button class="feature-button" onclick="navigateTo2026()">
                    进入 2026 欢迎页
                </button>
            </div>
        </div>
    </div>

    <!-- 页脚 -->
    <footer>
        <div class="footer-content">
            <p>©2025 CBZ Studio 版权所有</p>
            <div class="social-links">
                <a href="mailto:support@cbzstudio.com" class="social-link" title="邮箱">📧</a>
            </div>
        </div>
    </footer>


    <!-- 错误提示 -->
    <div class="error-tooltip" id="errorTooltip"></div>

    <script src="js/common.js"></script>
    <script src="js/index.js"></script>
    <script>
        // 后备全局导航函数：确保 onclick 调用不会因加载顺序错误而报错
        (function() {
            // helper: try to use Navigation.goToTalk/goToChat if available
            function fallbackTalk() {
                if (window.indexPage && typeof window.indexPage.navigateToTalk === 'function') {
                    return window.indexPage.navigateToTalk();
                }
                if (window.Navigation && typeof window.Navigation.goToTalk === 'function') {
                    return window.Navigation.goToTalk();
                }
                // 最后退回到直接跳转，使用相对路径以兼容本地文件协议
                window.location.href = 'talk/index.html';
            }

            function fallbackChat() {
                if (window.indexPage && typeof window.indexPage.navigateToChat === 'function') {
                    return window.indexPage.navigateToChat();
                }
                if (window.Navigation && typeof window.Navigation.goToChat === 'function') {
                    return window.Navigation.goToChat();
                }
                // 外部聊天室，打开新窗口
                try {
                    window.open('https://chat-pro.cbzstudio.qzz.io', '_blank');
                } catch (e) {
                    // 作为最后手段，导航到一个提示页面或显示错误
                    window.location.href = 'talk/index.html';
                }
            }

            if (typeof window.navigateToTalk !== 'function') {
                window.navigateToTalk = fallbackTalk;
            }
            if (typeof window.navigateToChat !== 'function') {
                window.navigateToChat = fallbackChat;
            }
        })();
    </script>
    
    <script>
        // Logo图片加载处理
        document.addEventListener('DOMContentLoaded', function() {
            const logo = document.getElementById('mainLogo');
            const img = new Image();
            
            img.onload = function() {
                logo.style.backgroundImage = 'url(files/logo.PNG)';
                logo.textContent = '';
                logo.classList.remove('error');
            };
            
            img.onerror = function() {
                console.warn('Logo图片加载失败，使用文字Logo');
                logo.classList.add('error');
            };
            
            img.src = 'files/logo.PNG';
            
            // 设置超时处理
            setTimeout(() => {
                if (!img.complete) {
                    console.warn('Logo图片加载超时');
                    logo.classList.add('error');
                }
            }, 3000);
        });
    </script>
</body>
</html>
